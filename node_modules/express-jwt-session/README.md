express-jwt-session


Build

A SIMPLE Middleware that use JsonWebTokens to validate session, and you also can get user info from req.user, you can store some more validation info in user to make a role control.
if you want to store more info or maybe info is change in one session, you can use redis and so on to control your session. 
https://github.com/lix059/express-jwt-session

Install

$ npm install express-jwt-session

Usage

The JWT is used to control access, it use secret to encode/decoded the user info, so be careful of it.

For example,
	var jws = require('express-jwt-session');

	var secret = 'mysecret';
	var isAuthenticated = jws.isAuthenticated(secret);

	//signToken a user and return token 
	//150 is the  access seconds of session 
	app.get('/setAuth', function(req, res) {
		var token = jws.signToken({email:'test@test.com', name:'test'}, secret, 150);
		res.json({token : token});
	});

	//auth token and set req.user  or  return 401 code
	app.get('/getWithAuth', isAuthenticated, function(req, res) {
		res.send(req.user);
	});


	//client
	//you have to set the token in ajax header as {'Authorization': 'Bearer ' + token}
	$


Related Modules

express-jwt  — express JSON Web Token sign and verification
jsonwebtoken — JSON Web Token sign and verification
express-jwt-permissions - Permissions middleware for JWT tokens


Tests

$ cd test&&npm install
$ npm test


License

This project is licensed under the MIT license. See the LICENSE file for more info.

